<!DOCTYPE html>
<html lang="en" style="background: linear-gradient(to right, #D7E0FF, #E0C3FC);">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prowork Inventory System</title>
  </head>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container">
      <a class="navbar-brand" href="#">
          <img src="\assets\images\ProTIM Logo.png" alt="Company Logo" width="150">
      </a>
      
      <ul class="navbar-nav ml-auto">
          
          <li class="nav-item">
              <b><a class="nav-link" routerLink="/add" >Add Asset</a></b>
          </li>
          <li class="nav-item">
              <b><a class="nav-link" routerLink="/view">View Asset</a></b>
          </li>
          <li class="nav-item">
          <b><a class="nav-link" routerLink="/suppliers">Supplier Info</a></b>
          </li>
      </ul>
    <b><button class="btn btn-danger ml-2" routerLink="/" style="border-color: rgb(205, 4, 4);border-radius: 10%;border-width: 0.1cm;" onclick="location.href='/';">Logout</button></b>
  </div>
</nav>
<body style="background: linear-gradient(to right, #D7E0FF, #E0C3FC);">
  <div class="container mt-0">
    <h2>View Assets</h2> <br>

    <div class="delete-message" *ngIf="showDeleteMessage">
      <p>The asset was deleted successfully.</p>
    </div>

    <div class="container mt-0">
      <div class="row">
        <div class="col-md-4">
          <!-- Category section on the left -->
          <app-category (subcategorySelected)="onSubcategorySelected($event)"></app-category>
        </div>
        <div class="col-md-8">
          <!-- Search field and button on the right -->
          <div class="form-group d-flex align-items-center">
            <input type="text" class="form-control" placeholder="Enter search by Name" [(ngModel)]="searchQuery" style="margin-left: 60%; border-color: black;border-width: 0.1cm;padding: 1.15rem;">
            <button class="btn btn-primary ml-1" (click)="performSearch()" style="border-color: rgb(50, 74, 255);border-radius: 10%;border-width: 0.1cm;padding: 0.4rem;">Search</button>
          </div>
      </div>
      </div>
    </div>

    <table class="table" style="background: linear-gradient(to right, #D7E0FF, #E0C3FC);">
      <thead style="color: black;">
        <tr>
          <th>Asset ID</th>
          <th>Asset Type</th>
          <th>Asset Name</th>
          <th>Asset Price</th>
          <th>IP Address</th>
          <th>Asset Status</th>
          <th>Asset Quantity</th>
          <th>Supplier Email</th>
          <th>Supplier Name</th>
        
          <!-- <th>Supplier Email</th> -->
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let asset of filteredAssets">
          <td>{{ asset.assetId }}</td>
          <td>{{ asset.assetType }}</td>
          <td>{{ asset.assetName }}</td>
          <td>{{ asset.assetPrice }}</td>
          <td>{{ asset.ipAddress }}</td>
          <td>{{ asset.assetStatus }}</td>
          <td>{{ asset.assetQuantity }}</td>
          <!-- <td>{{asset.supplier.name }}</td> -->
          <td>{{asset.supplierEmail}}</td>
          <td>{{asset.supplierName }}</td>
        <td>
          <!-- Edit Button -->
          <button class="btn btn-primary" (click)="editAsset(asset.assetId)" style="margin-inline-end: 0.3cm; border-color: rgb(50, 74, 255);border-radius: 10%;border-width: 0.1cm; height:1.1cm;width:2cm">Edit</button> <br>
          <!-- Delete Button -->
          <button class="btn btn-danger" (click)="deleteAsset(asset.assetId)" style="border-color: rgb(205, 4, 4);border-radius: 10%;border-width: 0.1cm;">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
  
</div>
</body>
</html>
